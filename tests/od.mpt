Event input, output {
  -- high : Bool,
  x    : Int32
}

-- any other irrelevant event
Event dummy;

mpt OD {
  -- could be also t1, ..., t2: [input, output];
  in t1 : [input, output, dummy], t2: [input, output, dummy];
  -- output can be either a single value or a trace of values
  out o : Bool;

  -- initial state
  init q0;

  q0 -> q0 {
    t1: _*e1@{input + output};
    t2: _*e2@{input + output};
    cond: t1[e1] == t2[e2];
    out: true;
  }
  q0 -> q1 {
    t1: _*e1@{output + $};
    t2: _*e2@{output + $};
    cond: t1[e1] != t2[e2];
    out: false;
  }
  q0 -> q2 {
    t1: _*e1@{output + $};
    t2: _*e2@{output + $};
    cond: t1[e1] != t2[e2];
    out: true;
  }
}

-- sources {
--   foreach file in @common.listendir($arg1) {
--     t = new [input, output];
--     foreach line in @reader.csv(file, sep=" ") {
--       yield input(line[2], line[3]) to t;
--     }
--   }
-- }
